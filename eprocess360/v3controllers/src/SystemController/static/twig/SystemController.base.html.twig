{% import "SystemController.formmacros.html.twig" as Macro %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>{% if SysVar.has('productTitle') %}{{ SysVar.get('productTitle') }}{% else %}Portal Setup{% endif %}</title>
    <link href="{{ Response.meta.SystemController.static }}/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{{ Response.meta.SystemController.static }}/css/jasny-bootstrap.min.css">
    <link rel="stylesheet" href="{{ Response.meta.SystemController.static }}/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="{{ Response.meta.SystemController.static }}/css/custom-bootstrap.css">
    {% block moduleCSS %} {% endblock %}
    <script src="{{ Response.meta.SystemController.static }}/js/jquery-1.10.2.min.js"></script>
    <script src="{{ Response.meta.SystemController.static }}/js/handlebars-v4.0.4.js"></script>
    <script language="javascript">var siteURL = '{{ SysVar.get('siteUrl') }}';</script>
    {% block splash %}{% endblock %}
</head>

<body class="{{ bodyclass }}">
{% block toolbar %}
{% include 'SystemController.navbar.html.twig' %}
{% if Response.meta.projtool and Response.meta.projtool.twig %}
    {% include Response.meta.projtool.twig %}
{% elseif Response.meta.dashboardBar and Response.meta.dashboardBar.twig %}
    {% include Response.meta.dashboardBar.twig %}
{% endif %}
{% endblock %}
<div class="container" style="margin-bottom:30px">
    {% if Controller is defined %}
        {% include Controller.ToolbarTemplate %}
        {% if User.LastVerification %}
            <div class="alert alert-info" role="alert">Access Granted via {{ User.Fullname }}/Role: {% for verify in User.LastVerification %}
            {% if verify.idLocalRole %}{{ Controller.ControllerRoleById(verify.idLocalRole).getLabel }} (local){% else %}{{ verify.title }} (sys){% endif %}{% if loop.last == false %}, {% endif %}
            {% endfor %} in {{ User.SecondsToVerify }}s
            </div>
        {%  else %}
            <div class="alert alert-warning" role="alert">{{ User.LastFailure }}
            </div>
        {% endif %}
    {% endif %}
    {% block body %}
    {% endblock %}
</div>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="{{ Response.meta.SystemController.static }}/js/bootstrap.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="{{ Response.meta.SystemController.static }}/js/ie10-viewport-bug-workaround.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="{{ Response.meta.SystemController.static }}/js/jasny-bootstrap.min.js"></script>
<script src="{{ Response.meta.SystemController.static }}/js/bootstrap-datepicker.min.js"></script>
<script src="{{ Response.meta.SystemController.static }}/js/moment.min.js"></script>
<script src="{{ Response.meta.SystemController.static }}/js/underscore-min.js"></script>
<script src="{{ Response.meta.SystemController.static }}/js/bootbox.min.js"></script>
{% block includeJS %} {% endblock %}
{% block hbData %}{# HandlebarsJS Data #}{% endblock %}
{% block hbTemplates %}{# HandlebarsJS Templates #}{% endblock %}
{% block hbInit %}{# HandlebarsJS Init Scripts #}{% endblock %}
{% block hbRuntime %}{# HandlebarsJS Runtime Scripts #}{% endblock %}
{% block moduleJS %}
{% endblock %}
{% block javascript %}
{% endblock %}
</body>
</html>
